<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
  <rect width="1200" height="900" fill="white"/>
  
            <!-- Definitions for gradients and patterns -->
            <defs>
                <linearGradient id="userGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="interfaceGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="coreGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#fee140;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="aiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#30cfd0;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#330867;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="toolGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#a8edea;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#fed6e3;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="storageGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
                </linearGradient>
                
                <!-- Arrow marker -->
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#555" />
                </marker>
            </defs>

            <!-- Background Layers -->
            <rect x="50" y="50" width="1100" height="120" rx="10" fill="#e3f2fd" opacity="0.5"/>
            <text x="600" y="85" text-anchor="middle" font-size="18" font-weight="bold" fill="#1976d2">User Layer</text>
            
            <rect x="50" y="190" width="1100" height="120" rx="10" fill="#f3e5f5" opacity="0.5"/>
            <text x="600" y="225" text-anchor="middle" font-size="18" font-weight="bold" fill="#7b1fa2">Interface Layer</text>
            
            <rect x="50" y="330" width="1100" height="180" rx="10" fill="#fff3e0" opacity="0.5"/>
            <text x="600" y="365" text-anchor="middle" font-size="18" font-weight="bold" fill="#e65100">Application Core</text>
            
            <rect x="50" y="530" width="540" height="120" rx="10" fill="#e8f5e9" opacity="0.5"/>
            <text x="320" y="565" text-anchor="middle" font-size="18" font-weight="bold" fill="#2e7d32">Tool Layer</text>
            
            <rect x="610" y="530" width="540" height="120" rx="10" fill="#fce4ec" opacity="0.5"/>
            <text x="880" y="565" text-anchor="middle" font-size="18" font-weight="bold" fill="#c2185b">Storage Layer</text>

            <!-- USER LAYER -->
            <!-- Console User -->
            <rect x="200" y="100" width="180" height="60" rx="8" fill="url(#userGrad)" stroke="#0288d1" stroke-width="2"/>
            <text x="290" y="125" text-anchor="middle" font-size="14" font-weight="bold" fill="white"> Console User</text>
            <text x="290" y="145" text-anchor="middle" font-size="11" fill="white">Terminal Interface</text>

            <!-- Web User -->
            <rect x="820" y="100" width="180" height="60" rx="8" fill="url(#userGrad)" stroke="#0288d1" stroke-width="2"/>
            <text x="910" y="125" text-anchor="middle" font-size="14" font-weight="bold" fill="white"> Web User</text>
            <text x="910" y="145" text-anchor="middle" font-size="11" fill="white">Browser Interface</text>

            <!-- INTERFACE LAYER -->
            <!-- Console Interface -->
            <rect x="200" y="240" width="180" height="60" rx="8" fill="url(#interfaceGrad)" stroke="#00897b" stroke-width="2"/>
            <text x="290" y="260" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Console Interface</text>
            <text x="290" y="275" text-anchor="middle" font-size="10" fill="white">interface.py</text>
            <text x="290" y="290" text-anchor="middle" font-size="9" fill="white">Terminal I/O</text>

            <!-- Web Interface -->
            <rect x="820" y="240" width="180" height="60" rx="8" fill="url(#interfaceGrad)" stroke="#00897b" stroke-width="2"/>
            <text x="910" y="260" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Web UI (Flask)</text>
            <text x="910" y="275" text-anchor="middle" font-size="10" fill="white">interface.py</text>
            <text x="910" y="290" text-anchor="middle" font-size="9" fill="white">HTTP/HTML</text>

            <!-- APPLICATION CORE -->
            <!-- Main Entry Point -->
            <rect x="200" y="380" width="180" height="70" rx="8" fill="url(#coreGrad)" stroke="#f57c00" stroke-width="2"/>
            <text x="290" y="405" text-anchor="middle" font-size="13" font-weight="bold" fill="white"> Main Entry</text>
            <text x="290" y="422" text-anchor="middle" font-size="10" fill="white">main.py</text>
            <text x="290" y="437" text-anchor="middle" font-size="9" fill="white">CLI Parser &amp; Router</text>

            <!-- Config -->
            <rect x="510" y="380" width="180" height="70" rx="8" fill="url(#coreGrad)" stroke="#f57c00" stroke-width="2"/>
            <text x="600" y="405" text-anchor="middle" font-size="13" font-weight="bold" fill="white">️ Configuration</text>
            <text x="600" y="422" text-anchor="middle" font-size="10" fill="white">config.py</text>
            <text x="600" y="437" text-anchor="middle" font-size="9" fill="white">ENV &amp; API Keys</text>

            <!-- Agent Controller -->
            <rect x="820" y="380" width="180" height="70" rx="8" fill="url(#aiGrad)" stroke="#1a237e" stroke-width="2"/>
            <text x="910" y="405" text-anchor="middle" font-size="13" font-weight="bold" fill="white"> AI Agent</text>
            <text x="910" y="422" text-anchor="middle" font-size="10" fill="white">agent.py</text>
            <text x="910" y="437" text-anchor="middle" font-size="9" fill="white">LLM + Tool Router</text>

            <!-- TOOL LAYER -->
            <!-- Calculator -->
            <rect x="100" y="580" width="180" height="60" rx="8" fill="url(#toolGrad)" stroke="#00acc1" stroke-width="2"/>
            <text x="190" y="605" text-anchor="middle" font-size="13" font-weight="bold" fill="#333"> Calculator</text>
            <text x="190" y="625" text-anchor="middle" font-size="10" fill="#555">tools.py</text>

            <!-- Wikipedia -->
            <rect x="410" y="580" width="180" height="60" rx="8" fill="url(#toolGrad)" stroke="#00acc1" stroke-width="2"/>
            <text x="500" y="605" text-anchor="middle" font-size="13" font-weight="bold" fill="#333"> Wikipedia</text>
            <text x="500" y="625" text-anchor="middle" font-size="10" fill="#555">tools.py</text>

            <!-- STORAGE LAYER -->
            <!-- Storage Manager -->
            <rect x="720" y="580" width="180" height="60" rx="8" fill="url(#storageGrad)" stroke="#c2185b" stroke-width="2"/>
            <text x="810" y="605" text-anchor="middle" font-size="13" font-weight="bold" fill="white"> Storage</text>
            <text x="810" y="625" text-anchor="middle" font-size="10" fill="white">storage.py</text>

            <!-- Database -->
            <rect x="960" y="580" width="180" height="60" rx="8" fill="url(#storageGrad)" stroke="#c2185b" stroke-width="2"/>
            <text x="1050" y="605" text-anchor="middle" font-size="13" font-weight="bold" fill="white">️ Database</text>
            <text x="1050" y="625" text-anchor="middle" font-size="10" fill="white">JSON/SQLite</text>

            <!-- EXTERNAL SERVICES -->
            <rect x="80" y="720" width="160" height="50" rx="8" fill="#eeeeee" stroke="#757575" stroke-width="2" stroke-dasharray="5,5"/>
            <text x="160" y="750" text-anchor="middle" font-size="12" fill="#333">OpenAI API</text>

            <rect x="280" y="720" width="160" height="50" rx="8" fill="#eeeeee" stroke="#757575" stroke-width="2" stroke-dasharray="5,5"/>
            <text x="360" y="750" text-anchor="middle" font-size="12" fill="#333">Wikipedia API</text>

            <rect x="960" y="720" width="160" height="50" rx="8" fill="#eeeeee" stroke="#757575" stroke-width="2" stroke-dasharray="5,5"/>
            <text x="1040" y="750" text-anchor="middle" font-size="12" fill="#333">Gmail SMTP</text>

            <!-- ARROWS -->
            <!-- User to Interface -->
            <line x1="290" y1="160" x2="290" y2="240" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
            <line x1="910" y1="160" x2="910" y2="240" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Interface to Main -->
            <line x1="290" y1="300" x2="290" y2="380" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
            <line x1="910" y1="300" x2="380" y2="380" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Main to Config -->
            <line x1="380" y1="415" x2="510" y2="415" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Config to Agent -->
            <line x1="690" y1="415" x2="820" y2="415" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Agent to Tools -->
            <line x1="910" y1="450" x2="190" y2="580" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
            <line x1="910" y1="450" x2="500" y2="580" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Agent to Storage -->
            <line x1="910" y1="450" x2="810" y2="580" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- Storage to Database -->
            <line x1="900" y1="610" x2="960" y2="610" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>

            <!-- External APIs -->
            <line x1="190" y1="640" x2="160" y2="720" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <line x1="500" y1="640" x2="360" y2="720" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <line x1="910" y1="450" x2="160" y2="720" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <line x1="1050" y1="640" x2="1040" y2="720" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>

            <!-- Response paths (dashed) -->
            <line x1="810" y1="580" x2="910" y2="450" stroke="#28a745" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
            <line x1="910" y1="380" x2="290" y2="240" stroke="#28a745" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>

            <!-- Labels -->
            <text x="600" y="30" text-anchor="middle" font-size="16" font-weight="bold" fill="#333">Data Flow: Solid = Request | Dashed = Response/External</text>
        
</svg>